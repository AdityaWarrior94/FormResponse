<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ask a Doubt</title>
    <style>
        /* From Uiverse.io by DavidTM96 */ 
        .form {
            display: flex;
            flex-direction: column;
            align-self: center;
            font-family: inherit;
            gap: 5px;
            padding-inline: 5em;
            padding-bottom: 2em;
            background-color: #171717;
            border-radius: 20px;
        }

        .form-heading {
            text-align: center;
            margin: 2em;
            color: #64ffda;
            font-size: 1.2em;
            background-color: transparent;
            align-self: center;
        }

        .form-field {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5em;
            border-radius: 10px;
            padding: 0.6em;
            border: none;
            outline: none;
            color: white;
            background-color: #171717;
            box-shadow: inset 2px 5px 10px rgb(5, 5, 5);
        }

        .input-field {
            background: none;
            border: none;
            outline: none;
            width: 100%;
            color: #64ffda;
            padding-inline: 1em;
        }

        .sendMessage-btn {
            cursor: pointer;
            margin-bottom: 0.5em;
            padding: 1em;
            border-radius: 10px;
            border: none;
            outline: none;
            background-color: transparent;
            color: #64ffda;
            font-weight: bold;
            outline: 1px solid #64ffda;
            transition: all ease-in-out 0.3s;
        }

        .sendMessage-btn:hover {
            transition: all ease-in-out 0.3s;
            background-color: #64ffda;
            color: #000;
            cursor: pointer;
            box-shadow: inset 2px 5px 10px rgb(5, 5, 5);
        }

        .form-card1 {
            background-image: linear-gradient(163deg, #64ffda 0%, #64ffda 100%);
            border-radius: 22px;
            transition: all 0.3s;
        }

        .form-card1:hover {
            box-shadow: 0px 0px 30px 1px rgba(100, 255, 218, 0.3);
        }

        .form-card2 {
            border-radius: 0;
            transition: all 0.2s;
        }

        .form-card2:hover {
            transform: scale(0.98);
            border-radius: 20px;
        }
    </style>
</head>
<body>
    <div class="form-card1">
        <div class="form-card2">
            <form class="form" id="doubtForm">
                <p class="form-heading">Ask Doubt?</p>

                <div class="form-field">
                    <input required="" placeholder="Name" class="input-field" type="text" id="name" />
                </div>

                <div class="form-field">
                    <div style="display: flex;">
                        <select required="" class="input-field" id="countryCode" style="width: 40%; margin-right: 10px;">
                            <option value="+91">India (+91)</option>
                            <option value="+971">UAE (+971)</option>
                            <option value="+966">Saudi (+966)</option>
                            <option value="+974">Qatar (+974)</option>
                            <option value="+965">Kuwait (+965)</option>
                            <option value="+973">Bahrain (+973)</option>
                            <option value="+968">Oman (+968)</option>
                        </select>

                        <input required="" placeholder="Login Number" class="input-field" type="number" id="loginNumber" style="width: 60%;" />
                    </div>
                </div>

                <div class="form-field">
                    <select required="" class="input-field" id="batch">
                        <option value="" disabled selected>Select Batch</option>
                        <option value="Impact">Impact</option>
                        <option value="Succeed">Succeed</option>
                        <option value="Exceed">Exceed</option>
                        <option value="Achievers">Achievers</option>
                        <option value="Triumph">Triumph</option>
                    </select>
                </div>

                <div class="form-field">
                    <select required="" class="input-field" id="section">
                        <option value="" disabled selected>Select Section</option>
                        <option value="A">A</option>
                        <option value="B">B</option>
                        <option value="C">C</option>
                    </select>
                </div>

                <div class="form-field">
                    <select required="" class="input-field" id="subject">
                        <option value="" disabled selected>Select Subject</option>
                        <option value="Physics">Physics</option>
                        <option value="Chemistry">Chemistry</option>
                        <option value="Zoology">Zoology</option>
                        <option value="Botany">Botany</option>
                        <option value="Maths">Maths</option>
                        <option value="SST">SST</option>
                        <option value="English">English</option>
                        <option value="Biology">Biology</option>
                        <option value="Others">Others</option>
                    </select>
                </div>

                <div class="form-field">
                    <textarea required="" placeholder="Doubt in Detail" cols="30" rows="3" class="input-field" id="doubt"></textarea>
                </div>

                <div class="form-field">
                    <label for="fileUpload">Upload Files (Images or PDFs):</label>
                    <input id="fileUpload" name="fileUpload" class="input-field" type="file" accept=".jpg,.jpeg,.png,.pdf" multiple />
                </div>

                <button type="submit" class="sendMessage-btn">Send Message</button>
            </form>
        </div>
    </div>

    <script>
        document.getElementById('doubtForm').addEventListener('submit', function(e) {
            e.preventDefault();

            const formData = {
                name: document.getElementById('name').value,
                countryCode: document.getElementById('countryCode').value,
                loginNumber: document.getElementById('loginNumber').value,
                batch: document.getElementById('batch').value,
                section: document.getElementById('section').value,
                subject: document.getElementById('subject').value,
                doubt: document.getElementById('doubt').value
            };

            fetch('https://script.google.com/a/macros/pwgulf.com/s/AKfycbwJLS9wVz7H5f7XB91e4PCv1rpihuvnA-FkeTwcQY32NJnc3EYAfCHBqCgZVgBXQFBRVA/exec', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(formData)
            })
            .then(response => response.json())
            .then(data => {
                if (data.status === 'success') {
                    alert('Form submitted successfully!');
                    document.getElementById('doubtForm').reset();
                } else {
                    alert('Error: ' + data.message);
                }
            })
            .catch(error => {
                console.error('Error:', error);
                alert('There was an error submitting the form.');
            });
        });
    </script>
</body>
</html>
